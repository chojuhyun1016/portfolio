# 📦 order-core.messaging 디렉토리 구조 및 목적

`order-core.messaging`은 시스템 간 메시지 전송 및 에러 추적, DLQ 처리를 위한 코드, 메시지 포맷 정의 등을 분리하여 관리하는 계층이다. `common`과 `order`로 나누어 도메인 간 경계를 유지하고 있다.

---

## 📂 order-core.messaging.order

`order` 하위는 주문 도메인에 특화된 메시징 코드와 메시지 정의를 포함한다.

- **code**
    - 주문 도메인 메시징과 관련된 상수 코드 정의.
    - 예: 메시지 타입 코드, DLQ 타입 코드, 처리 상태 코드 등.
    - enum 기반으로 구성되어 메시지 분류와 라우팅 조건 설정에 사용된다.

- **message**
    - 주문 도메인에서 사용하는 메시지 포맷(DTO) 정의.
    - Kafka, MQ, DLQ 등에 사용되는 직렬화 대상 메시지 클래스가 위치한다.
    - 예: `OrderCreatedMessage`, `OrderFailedMessage` 등.

---

## 📂 order-core.messaging.common

`common` 하위는 전 도메인에서 공유 가능한 메시징 구조를 정의한다.

- **code**
    - 시스템 전반에서 공통으로 사용하는 메시지 관련 코드 정의.
    - 예: 메시지 수준(Level), 컨텍스트(Context), 메시지 타입 등.
    - 에러 전파, 알림, 모니터링, DLQ 등에서 공통적으로 쓰인다.

- **message**
    - 공통 메시지 형식 정의.
    - 예: `DlqMessage`, `MonitoringMessage` 등 시스템 전반에서 사용되는 메시지 포맷.
    - 메시지 구조는 직렬화 가능하고 로깅 또는 전송을 위해 활용된다.

---

> 이 구조는 **MSA 기반 아키텍처**에서 도메인 독립성과 재사용성을 확보하기 위한 메시징 전략에 따라 설계되었으며, 도메인 간 결합도를 낮추고 메시지 확장성을 고려한 계층적 구조로 구성되어 있다.
> 