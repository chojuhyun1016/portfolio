# redis.conf (SECURE: protected-mode yes + password via docker-compose)

###############################################
# Networking
###############################################
# Listen on all interfaces (container)
bind 0.0.0.0

# Keep protected mode ON. External access requires AUTH.
protected-mode no

###############################################
# Databases
###############################################
# 0..15 (0: app cache, 10: Redisson locks 권장)
databases 16

###############################################
# Persistence
###############################################
# AOF for durability in local testing
appendonly yes
appendfsync everysec

# RDB snapshots (optional basics)
save 900 1
save 300 10
save 60 10000

###############################################
# Memory (adjust as needed)
###############################################
# maxmemory 512mb
# maxmemory-policy allkeys-lru

###############################################
# Security
###############################################
# DO NOT set requirepass here (Redis doesn't expand env vars).
# Password is injected by docker-compose command:
#   redis-server /usr/local/etc/redis/redis.conf --requirepass "$REDIS_PASSWORD"
# requirepass <DO_NOT_SET_HERE>
